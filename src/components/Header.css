@import 'src/styles/buttons.css';

/* SIDEBAR (app-sidebar) */
.app-sidebar {
  position: fixed;
  left: 0;
  top: 0;
  height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: stretch;
  background: var(--surface);
  color: var(--text-primary);
  box-shadow: -8px 0 24px rgba(0,0,0,0.5);
  z-index: 999;
  transition: width 300ms cubic-bezier(.2,.9,.2,1), padding 200ms, background 300ms;
  overflow: visible;
  border-right: 1px solid rgba(139,92,246,0.06);
}

/* sizes */
.app-sidebar.collapsed { width: var(--sidebar-collapsed); padding: 1rem 0.5rem; }
.app-sidebar.expanded  { width: var(--sidebar-expanded); padding: 1.2rem 1rem; }

/* TOP area */
.sidebar-top {
  display:flex;
  flex-direction:column;
  gap: 1rem;
  align-items:center;
  padding-top: 0.6rem;
}

/* small toggle button */
.sidebar-toggle {
  background: transparent;
  border: 1px solid rgba(255,255,255,0.04);
  /* width: 40px; */
  height: 30px;
  border-radius: 10px;
  color: var(--text-primary);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background 160ms, transform 160ms, color 200ms;
  margin-bottom: 8px;
}
.sidebar-toggle:focus { outline: 2px solid rgba(139,92,246,0.35); outline-offset: 3px; }
.sidebar-toggle:hover { transform: translateY(-2px); background: rgba(255,255,255,0.02); color: var(--primary-color); }

/* brand area */
.brand {
  display:flex;
  align-items:center;
  gap: 0.7rem;
  justify-content: center;
  color: var(--primary-color);
  white-space:nowrap;
}
.brand-avatar {
  background: rgba(99,83,242,0.12);
  color: var(--primary-color);
  padding: 6px;
  border-radius: 25%;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-size:18px;
}
.brand-text { font-weight:700; font-size:1rem; white-space:nowrap; }

/* NAV */
.sidebar-nav { display:flex; flex:1; align-items:center; justify-content:center; }
.sidebar-nav ul { width:100%; list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:8px; align-items:center; }

/* items */
.sidebar-nav li {
  display:flex; align-items:center; gap:12px; padding:10px; border-radius:10px;
  cursor:pointer; color:var(--text-primary);
  transition: background 160ms ease, transform 160ms ease, color 160ms ease;
  justify-content:center; position:relative; width: calc(100% - 8px); margin: 0 4px;
}
.app-sidebar.expanded .sidebar-nav li { justify-content:flex-end; padding:12px 18px; }
.app-sidebar.collapsed .sidebar-nav li { justify-content:center; padding:12px 18px; }

/* icon sizing (fix for shrink on active) */
.sidebar-nav .nav-icon, .sidebar-nav svg { font-size: 20px; flex-shrink: 0; transition: transform 180ms ease, color 180ms ease; }

/* label */
.nav-label { font-weight:600; font-size:0.98rem; color:var(--text-primary); white-space:nowrap; }

/* hover effects */
.sidebar-nav li:hover { background: rgba(255,255,255,0.03); transform: translateX(-6px); }
.sidebar-nav li:hover .nav-icon,
.sidebar-nav li.active .nav-icon { transform: scale(1.12); color: var(--primary-color); }

/* active item */
.sidebar-nav li.active {
  background: linear-gradient(90deg, rgba(139,92,246,0.14), rgba(99,83,242,0.06));
  color:#fff;
  box-shadow: inset -2px 0 0 rgba(139,92,246,0.28);
}

/* indicator bar to the RIGHT of item (like your screenshot) */
.indicator {
  position:absolute;
  right: -15px;
  top: 12%;
  width: 6px;
  height: 76%;
  background: linear-gradient(180deg, var(--primary-color), #8a5af0);
  border-radius:6px;
  box-shadow: 0 0 12px rgba(99,83,242,0.75);
  transform-origin:center;
  animation: indicatorIn 260ms cubic-bezier(.2,.9,.2,1);
  transition: all 200ms ease-in-out;
}
@keyframes indicatorIn { from { opacity:0; transform: scaleY(0.6); } to { opacity:1; transform: scaleY(1); } }

/* focus */
.sidebar-nav li:focus { outline: 2px solid rgba(99,83,242,0.18); outline-offset: 3px; }

/* footer area (CV button) */
.sidebar-footer, .sidebar-bottom { display:flex; align-items:center; justify-content:center; padding: 1rem 0.6rem; }

/* estilos para el botón de idioma */
.lang-toggle {
  background: transparent;
  border: 1px solid rgba(255,255,255,0.04);
  /* width: 30px; */
  height: 30px;
  border-radius: 10px;
  color: var(--text-primary);
  display: inline-flex;
  align-items: center;
  /* align-self: center; */
  justify-content: center;
  justify-items: center;
  cursor: pointer;
  transition: transform 160ms ease, color 160ms ease, background 160ms ease;
  gap: 8px;
}
.lang-toggle:hover {
  transform: translateY(-3px) scale(1.03);
  color: var(--primary-color);
  background: rgba(255,255,255,0.02);
}
.lang-toggle .lang-label {
  font-weight: 700;
  font-size: 0.82rem;
  color: var(--text-primary);
  margin-left: 6px;
}
.app-sidebar.collapsed .lang-toggle .lang-label { display: none; }

/* si tenés un botón de tema al lado, poné un contenedor */
.sidebar-top > div { display: flex; flex-direction: column; gap: 10px; align-items: center; }





/* === Header/sidebar - MOBILE bottom nav ===
   pegar al final de src/components/Header.css
*/

@media (max-width: 880px) {
  .app-sidebar {
    left: 0 !important;
    top: auto !important;
    bottom: 0 !important;
    width: 100% !important;
    height: var(--sidebar-mobile-height) !important;
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;
    justify-content: center !important;
    padding: 8px 12px !important;
    border-radius: 12px !important;
    margin: 0;
    z-index: 1005;
  }

  .sidebar-top, .sidebar-bottom {
    display: flex !important;
    gap: 0px;
    align-items: center;
  }

  .sidebar-nav ul {
    flex-direction: row !important;
    gap: 0 !important;
    width: auto !important;
  }

  .sidebar-nav li {
    padding: 5px !important;
    border-radius: 10px !important;
    justify-content: center !important;
  }

  .sidebar-toggle {
    width: 30px;
    height: 30px;
    margin-right: 5px;
    margin-bottom: 0;
  }

  .sidebar-toggle:nth-child(1) {
    display: none;
  }

  .brand-text, .cv-text, .nav-label { display: none !important; } /* mantener solo iconos */
  .cv-btn { width: 44px !important; height: 44px !important; padding: 8px !important; }
  .lang-toggle { width: 30px; height: 30px; padding: 8px; border-radius: 10px; }

  /* asegurar que el main-content tenga margen inferior para que no quede oculto por la bottom nav */
  .main-content, .page-content {
    margin-bottom: calc(var(--sidebar-mobile-height) + 12px) !important;
  }

  .brand-avatar {
    display: none;
  }

  .lang-toggle .lang-label {
    margin-left: 0;
  }

  .indicator {
    right: -3px;
    top: 35%;
    height: 35%;
  }
}
