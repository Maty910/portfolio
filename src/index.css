@import url('https://fonts.googleapis.com/css2?family=Poppings:wght@300;700&family=Inter:wght@300;400;600&display=swap');
@import "tailwindcss";

/* === CONFIGURACIÓN DE TEMA TAILWIND v4 === */
@theme {
  /* Tipografías */
  --font-sans: 'Inter', system-ui, sans-serif;
  --font-heading: 'Poppings', sans-serif;

  /* Colores mapeados a tus variables CSS para que reaccionen al cambio de tema */
  --color-primary: var(--primary-color);
  --color-surface: var(--surface);
  --color-bg-base: var(--bg-color);
  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-text-muted: var(--text-muted);

  /* Animaciones */
  --animate-indicator-in: indicatorIn 260ms cubic-bezier(.2,.9,.2,1);
  --animate-cv-pulse: cvPulse 6.2s infinite ease-in-out;

  @keyframes indicatorIn {
    from { opacity: 0; transform: scaleY(0.6); }
    to { opacity: 1; transform: scaleY(1); }
  }

  @keyframes cvPulse {
    0%   { box-shadow: 0 8px 18px rgba(99,83,242,0.08); transform: translateY(0); }
    50%  { box-shadow: 0 16px 36px rgba(99,83,242,0.14); transform: translateY(-2px); }
    100% { box-shadow: 0 8px 18px rgba(99,83,242,0.08); transform: translateY(0); }
  }

}

@keyframes marquee {
  0% { transform: translateX(0); }
  100% { transform: translateX(-33.33%); }
}

.animate-marquee {
  animation: marquee 15s linear infinite;
}

.group:hover .animate-marquee {
  animation-play-state: paused;
}

/* === VARIABLES CSS (Light/Dark Mode) === */
:root {
  /* Paleta Dark (Default) */
  --primary-color: rgb(99, 83, 242);
  --bg-color: #0a0a0a;
  --bg-1: #0b0b0b;
  --bg-2: #1f1d22;
  --surface: linear-gradient(180deg, var(--bg-1), var(--bg-2));

  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-muted: rgba(255, 255, 255, 0.5);
  --border-color: rgba(83, 91, 242, 0.3);
  
  --gradient: linear-gradient(135deg, #535bf2 0%, #7c3aed 100%);
  
  /* Espaciados */
  --pad: max(20px, 4vmin);
  --pad-sm: max(10px, 2vmin);
  --pad-lg: max(40px, 8vmin);
  
  /* Tamaños Sidebar */
  --sidebar-collapsed: 72px;
  --sidebar-expanded: 240px;
  --sidebar-mobile-height: 88px;
}

/* Paleta Light (Cuando usás el ThemeToggle) */
:root[data-theme="light"] {
  --primary-color: rgb(99, 83, 242);
  --bg-color: #e9e9e9;
  --bg-1: #f7f7fb;
  --bg-2: #eef2ff;
  --text-primary: #0b1220;
  --text-secondary: #090e1a;
  --text-muted: rgba(15, 15, 15, 0.5);
  --surface: linear-gradient(180deg, #dbd8d8, #c3c9e4);
  --gradient: linear-gradient(135deg, #535bf2 0%, #7c3aed 100%);
}

/* === ESTILOS BASE & SCROLLBARS === */
@layer base {
  html {
    @apply h-full;
  }

  body {
    @apply w-full h-full min-h-full relative overflow-x-hidden font-sans text-base leading-relaxed antialiased;
    color: var(--text-primary);
    background-color: var(--bg-color);
    
    /* Fondo complejo */
    background: 
      radial-gradient(1200px 600px at 10% 10%, rgba(99,83,242,0.06), transparent),
      var(--surface);
  }

  /* Noise Overlay */
  body::after {
    content: "";
    @apply fixed inset-0 pointer-events-none opacity-100 -z-10 mix-blend-overlay;
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='200' height='200'><filter id='f'><feTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='1' stitchTiles='stitch'/></filter><rect width='100%25' height='100%25' filter='url(%23f)' opacity='0.8'/></svg>");
  }

  h1, h2, h3 {
    font-family: var(--font-heading); /* 'Poppings', sans-serif */
    @apply font-semibold tracking-tight;
  }

  /* Custom Scrollbars unificados */
  ::-webkit-scrollbar { 
    width: 8px; 
    height: 8px;
  }
  
  @media (max-width: 880px) {
    ::-webkit-scrollbar { 
      width: 4px; 
      height: 4px;
    }
  }
  
  ::-webkit-scrollbar-track { 
    background: rgba(255,255,255,0.02); 
    border-radius: 10px; 
  }
  
  ::-webkit-scrollbar-thumb {
    background: rgba(99,83,242,0.24);
    border-radius: 10px;
    border: 2px solid transparent;
    background-clip: padding-box;
  }
  
  @media (max-width: 880px) {
    ::-webkit-scrollbar-thumb {
      border: 1px solid transparent;
      background: rgba(99,83,242,0.3);
    }
  }
  
  ::-webkit-scrollbar-thumb:hover { 
    background: rgba(99,83,242,0.36); 
  }
}

/* === LAYOUT SHIFT === */
#root {
  @apply w-full h-full flex flex-col items-start;
}

.page, .page-content {
  @apply flex flex-col items-start w-full h-full;
  transition: margin-left 320ms cubic-bezier(.2,.9,.2,1), padding 200ms;
}

/* Contenedor con scroll snap */
.main-content.scroll-container {
  @apply h-screen overflow-y-auto overflow-x-hidden;
  scroll-snap-type: y mandatory;
  scroll-behavior: smooth;
  margin-left: var(--sidebar-collapsed);
  width: calc(100% - var(--sidebar-collapsed));
  transition: margin-left 320ms cubic-bezier(.2,.9,.2,1);
}

/* Detección de Sidebar expandido para mover contenido */
body:has([aria-expanded="true"]) .main-content.scroll-container {
  margin-left: var(--sidebar-expanded);
  width: calc(100% - var(--sidebar-expanded));
}

/* Mobile Layout Shift Override */
@media (max-width: 880px) {
  .page, .page-content, .main-content {
    margin-left: 0 !important;
    width: 100% !important;
    padding-bottom: calc(var(--sidebar-mobile-height) + 1.5rem);
  }
  
  .main-content.scroll-container {
    margin-left: 0 !important;
    width: 100% !important;
    /* height: calc(100vh - var(--sidebar-mobile-height)); */
  }
  
  /* Smooth touch scrolling */
  * {
    -webkit-overflow-scrolling: touch;
  }
  
  /* Better tap highlight */
  a, button {
    -webkit-tap-highlight-color: rgba(99, 83, 242, 0.2);
  }
}